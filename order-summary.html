<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Order Summary | Wynelle Daily Grocery</title>
  <meta name="description" content="Review your order at Wynelle Daily Grocery. Confirm your details and learn how to complete your grocery purchase easily and securely." />
  <link rel="icon" type="image/png" href="image/FAVICON.png" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet" />
  <!-- Remixicon for icons -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
  <style>
    :root {
      --primary: #1c7c54;
      --accent: #ffc145;
      --text: #283618;
      --background: #f6ffe8;
      --white: #fff;
      --radius: 1rem;
      --shadow: 0 8px 28px 0 rgba(28,124,84,0.10);
      --border: 1px solid #e4ebd8;
      --footer-bg: #2a5740;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Montserrat', Arial, sans-serif;
      background: var(--background);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    a {
      color: var(--primary);
      text-decoration: none;
      transition: color .2s;
    }
    a:hover { color: var(--accent); }
    img { max-width: 100%; display: block; border-radius: .55rem; }
    .header {
      width: 100%; background: var(--white); box-shadow: var(--shadow);
      position: sticky; top: 0; z-index: 99;
    }
    .nav {
      display: flex; align-items: center; justify-content: space-between;
      max-width: 1200px; margin: 0 auto; padding: 1.2rem 2rem;
      position: relative;
    }
    .nav-logo {
      display: flex; align-items: center; gap: 0.7rem; font-size: 1.4rem; font-weight: 900; color: var(--primary);
      letter-spacing: 1.5px;
    }
    .nav-logo img { width: 44px; height: 44px; }
    main {
      flex: 1 0 auto;
      max-width: 540px;
      margin: 2.2rem auto 0 auto;
      padding: 2.4rem 1.1rem 2.4rem 1.1rem;
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      position: relative;
    }
    .summary-title {
      font-size: 2rem;
      font-weight: 900;
      color: var(--primary);
      margin-bottom: 1.1rem;
      text-align: center;
      letter-spacing: .7px;
    }
    .order-section {
      margin-bottom: 1.9rem;
    }
    .order-label {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: .6rem;
      display: block;
    }
    .order-list {
      width: 100%;
      border-collapse: collapse;
      background: var(--background);
      border-radius: .5rem;
      overflow: hidden;
      margin-bottom: 1.2rem;
    }
    .order-list th, .order-list td {
      padding: .75rem;
      text-align: left;
      border-bottom: 1px solid #e4ebd8;
      font-size: 1rem;
    }
    .order-list th {
      background: #e8fbd8;
      font-weight: 700;
      color: var(--primary);
    }
    .order-list tr:last-child td {
      border-bottom: none;
    }
    .order-total-row th, .order-total-row td {
      font-weight: 900;
      color: var(--primary);
      border-top: 2px solid #e4ebd8;
    }
    .customer-details {
      margin-bottom: 1.2rem;
      background: #f9ffe7;
      border-radius: .6rem;
      padding: 1.1rem;
      border: 1px solid #e4ebd8;
    }
    .customer-details-label {
      color: var(--primary);
      font-weight: 700;
      margin-bottom: .5rem;
      font-size: 1.05rem;
    }
    .details-list {
      list-style: none;
      padding-left: .1rem;
      margin-bottom: 0;
      color: #3e5631;
    }
    .details-list li {
      margin-bottom: .4rem;
      font-size: 1rem;
    }
    .edit-link {
      font-size: .97rem;
      font-weight: 700;
      color: var(--accent);
      margin-left: .5rem;
    }
    .edit-link i {
      margin-right: .13rem;
      vertical-align: middle;
    }
    .payment-methods {
      display: flex; gap: 1.5rem; flex-wrap: wrap; margin-bottom: 1.5rem;
    }
    .payment-method {
      display: flex; align-items: center; gap: .5rem;
      background: #e8fbd8;
      padding: .7rem 1.2rem;
      border-radius: .5rem;
      font-weight: 700;
      color: var(--primary);
      cursor: pointer;
      border: 2px solid transparent;
      transition: border .2s;
    }
    .payment-method.selected {
      border: 2px solid var(--accent);
      background: #fff7e3;
    }
    .confirmation-section {
      background: #e8fbd8;
      border-radius: .7rem;
      padding: 1.5rem 1.1rem;
      margin-bottom: 1.6rem;
      text-align: center;
      color: #386140;
      font-size: 1.08rem;
      font-weight: 500;
      border: 1px solid #e4ebd8;
    }
    .confirmation-section strong {
      color: var(--primary);
    }
    .confirm-btn {
      margin-top: .7rem;
      background: var(--primary);
      color: var(--white);
      font-size: 1.08rem;
      padding: .8rem 2.2rem;
      border-radius: .55rem;
      font-weight: 900;
      cursor: pointer;
      border: none;
      transition: background .2s, color .2s, box-shadow .2s;
      box-shadow: 0 2px 8px 0 rgba(28,124,84,0.09);
    }
    .confirm-btn:hover {
      background: var(--accent);
      color: var(--primary);
    }
    .success-message {
      display: none;
      background: #fff7e3;
      color: #2a5740;
      border: 2px solid var(--accent);
      border-radius: .7rem;
      padding: 2rem 1.2rem;
      text-align: center;
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 2rem;
      margin-top: 1.2rem;
    }
    .success-message strong { color: var(--primary);}
    .important-note {
      color: #b95d0b;
      background: #fff2cd;
      border-left: 4px solid var(--accent);
      padding: .7rem 1.1rem;
      border-radius: .4rem;
      margin: 1.2rem 0;
      font-size: 1rem;
    }
    /* Footer */
    .footer {
      background: var(--footer-bg); color: var(--white); padding: 2.3rem 0 1.1rem; margin-top: 2.2rem; border-radius: var(--radius) var(--radius) 0 0;
    }
    .footer-container {
      max-width: 1180px; margin: 0 auto; display: flex; flex-wrap: wrap; gap: 2rem; justify-content: space-between; align-items: flex-start; padding: 0 2rem;
    }
    .footer-brand { flex: 1 1 220px; margin-bottom: 2rem;}
    .footer-logo {
      display: flex; align-items: center; font-size: 1.2rem; font-weight: 900; gap: .5rem; margin-bottom: 0.45rem; color: var(--accent);
    }
    .footer-logo img { width: 32px; height: 32px; }
    .footer-desc { color: #ffd87c; font-size: 0.98rem; margin-bottom: .6rem;}
    .footer-links-group { flex: 1 1 160px; margin-bottom: 2rem;}
    .footer-links-title { font-size: 1rem; font-weight: 900; margin-bottom: .35rem; letter-spacing: .5px;}
    .footer-links { display: flex; flex-direction: column; gap: .35rem;}
    .footer-link { color: #fff7e3; font-size: .96rem; transition: color .2s; opacity: .94;}
    .footer-link:hover { color: var(--accent);}
    .footer-bottom { text-align: center; font-size: .95rem; color: #fff7e3; margin-top: 1.5rem; opacity: .85;}
    .footer-bottom a { color: #fff; font-weight: 700; text-decoration: underline; transition: color .2s;}
    .footer-bottom a:hover { color: var(--accent);}
    /* Responsive */
    @media (max-width: 700px) {
      main { padding: 1rem .5rem 2rem; }
      .order-list th, .order-list td { font-size: .99rem; padding: .62rem; }
      .footer-container { padding: 0 1rem; flex-direction: column; gap: 2.2rem; align-items: flex-start;}
    }
    @media (max-width: 500px) {
      .nav-logo img { width: 32px; height: 32px; }
      .summary-title { font-size: 1.3rem; }
      .order-list th, .order-list td { font-size: .96rem; }
      main { padding: .6rem .2rem 1.2rem; margin-top: 1.1rem;}
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="nav">
      <a href="index.html" class="nav-logo">
        <img src="image/LOGO.png" alt="Wynelle Daily Grocery Logo" />
        Wynelle Daily Grocery
      </a>
    </nav>
  </header>
  <!-- Main Content -->
  <main>
    <h1 class="summary-title"><i class="ri-shopping-bag-3-line"></i> Order Review & Confirmation</h1>
    <section class="order-section">
      <label class="order-label" for="order-list">Your Selected Items</label>
      <table class="order-list" id="order-list">
        <thead>
          <tr>
            <th>Product</th>
            <th>Qty</th>
            <th>Unit Price</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody id="order-items">
          <!-- Order items will be rendered here by JS -->
        </tbody>
        <tfoot>
          <tr class="order-total-row">
            <th colspan="3" style="text-align:right;">Order Total:</th>
            <td id="order-total">â‚±0.00</td>
          </tr>
        </tfoot>
      </table>
    </section>
    <section class="order-section">
      <div class="customer-details">
        <div class="customer-details-label">Delivery Information</div>
        <ul class="details-list" id="customer-info">
          <li><strong>Name:</strong> <span id="customer-name">Juan Dela Cruz</span></li>
          <li><strong>Contact:</strong> <span id="customer-contact">+63 912 345 6789</span></li>
          <li><strong>Email:</strong> <span id="customer-email">juan@email.com</span></li>
          <li><strong>Address:</strong> <span id="customer-address">Blk 24 Lot 16 Teson St, Mabini Heights Subd, Lipa City</span></li>
        </ul>
        <a href="index.html#cart" class="edit-link"><i class="ri-edit-2-line"></i>Edit Details</a>
      </div>
    </section>
    <section class="order-section">
      <div class="order-label">Preferred Payment Method</div>
      <div class="payment-methods" id="payment-methods">
        <div class="payment-method selected" data-method="GCash"><i class="ri-wallet-3-line"></i> GCash</div>
        <div class="payment-method" data-method="Bank Transfer"><i class="ri-bank-card-line"></i> Bank Transfer</div>
        <div class="payment-method" data-method="Cash on Delivery"><i class="ri-money-dollar-circle-line"></i> Cash on Delivery</div>
      </div>
    </section>
    <section class="confirmation-section" id="confirmation-section">
      <strong>Before submitting your order</strong>, please review all details above. After clicking "Confirm Order", our team will reach out to you to verify your order, confirm product availability, and finalize any preferences such as quantity, product variations, and delivery schedule.
      <br><br>
      Once you confirm these details with our representative, you will receive a secure payment link for your chosen method. Kindly complete your payment within <strong>24 hours</strong> to secure your order. Unpaid orders after 24 hours will be automatically cancelled to ensure fairness to other customers.
      <br><br>
      <button class="confirm-btn" id="confirm-btn"><i class="ri-checkbox-circle-line"></i> Confirm Order</button>
    </section>
    <section class="success-message" id="success-message">
      <strong>Thank you! Your order has been submitted successfully.</strong>
      <br><br>
      A member of our team will contact you shortly to confirm your order details, including product availability and any preferences you may have indicated.
      <br>
      After confirmation, you will receive a payment link based on your selected payment method. Please ensure payment is completed within 24 hours to avoid automatic cancellation.
      <div class="important-note">
        <i class="ri-information-line"></i>
        <b>Note:</b> Orders are only confirmed once payment has been received (unless you chose Cash on Delivery). For any questions or changes, please contact us at <a href="mailto:contact@wynellegrocery.com">contact@wynellegrocery.com</a> or call <a href="tel:+639264879034">+63 926 487 9034</a>.
      </div>
    </section>
  </main>
  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-brand">
        <div class="footer-logo">
          <img src="image/LOGO.png" alt="Wynelle Daily Grocery Logo" />
          Wynelle Daily Grocery
        </div>
        <div class="footer-desc">
          Blk 24 Lot 16 Teson St, Mabini Heights Subd, Lipa City, Batangas<br>
          Email: <a href="mailto:contact@wynellegrocery.com" style="color:var(--accent);">contact@wynellegrocery.com</a><br>
          Phone: <a href="tel:+639264879034" style="color:var(--accent);">+63 926 487 9034</a><br>
          DTI: 681-770-820-000 | VAT: Active
        </div>
      </div>
      <div class="footer-links-group">
        <div class="footer-links-title">Company</div>
        <div class="footer-links">
          <a href="index.html#about" class="footer-link">About Us</a>
          <a href="index.html#services" class="footer-link">Services</a>
          <a href="index.html#contact" class="footer-link">Contact</a>
        </div>
      </div>
      <div class="footer-links-group">
        <div class="footer-links-title">Help</div>
        <div class="footer-links">
          <a href="index.html#testimonials" class="footer-link">Testimonials</a>
          <a href="index.html#faq" class="footer-link">FAQ</a>
        </div>
      </div>
      <div class="footer-links-group">
        <div class="footer-links-title">Legal</div>
        <div class="footer-links">
          <a href="privacy-policy.html" class="footer-link">Privacy Policy</a>
          <a href="terms.html" class="footer-link">Terms of Service</a>
          <a href="refund-policy.html" class="footer-link">Refund Policy</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      &copy; <span id="footer-year"></span> Wynelle Daily Grocery | DTI: 681-770-820-000<br>
      Proudly serving Lipa City and nearby communities.
    </div>
  </footer>
  <script>
    // Ambil data cart dari localStorage
    function getCartFromStorage() {
      try {
        const cart = JSON.parse(localStorage.getItem('cart'));
        if (Array.isArray(cart) && cart.length > 0) return cart;
      } catch (e) {}
      // Jika tidak ada, gunakan contoh dummy
      return [
        { name: "Fresh Lemery Tomatoes", qty: 2, price: 35.00 },
        { name: "Brown Rice", qty: 1, price: 60.99 },
        { name: "Pure Fresh Milk", qty: 3, price: 75.00 }
      ];
    }

    // Ambil data customer dari localStorage (jika ada)
    function getCustomerFromStorage() {
      try {
        const ci = JSON.parse(localStorage.getItem('customerInfo'));
        if (ci && typeof ci === 'object') return ci;
      } catch (e) {}
      // Dummy data
      return {
        name: "Juan Dela Cruz",
        contact: "+63 912 345 6789",
        email: "juan@email.com",
        address: "Blk 24 Lot 16 Teson St, Mabini Heights Subd, Lipa City"
      };
    }

    // Payment options
    const paymentMethods = document.querySelectorAll('.payment-method');
    let selectedPayment = "GCash";
    paymentMethods.forEach(pm => {
      pm.addEventListener('click', function() {
        paymentMethods.forEach(p => p.classList.remove('selected'));
        pm.classList.add('selected');
        selectedPayment = pm.getAttribute('data-method');
      });
    });

    function formatCurrency(num) {
      return 'â‚±' + num.toLocaleString('en-PH', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    }

    function renderOrderTable(orderItems) {
      const tbody = document.getElementById('order-items');
      let total = 0;
      tbody.innerHTML = '';
      orderItems.forEach(item => {
        const itemTotal = item.qty * item.price;
        total += itemTotal;
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${item.name}</td>
          <td>${item.qty}</td>
          <td>${formatCurrency(item.price)}</td>
          <td>${formatCurrency(itemTotal)}</td>
        `;
        tbody.appendChild(tr);
      });
      document.getElementById('order-total').textContent = formatCurrency(total);
    }

    function renderCustomerInfo(customer) {
      document.getElementById('customer-name').textContent = customer.name || "-";
      document.getElementById('customer-contact').textContent = customer.contact || "-";
      document.getElementById('customer-email').textContent = customer.email || "-";
      document.getElementById('customer-address').textContent = customer.address || "-";
    }

    // Render order and customer info
    const orderItems = getCartFromStorage();
    renderOrderTable(orderItems);

    const customer = getCustomerFromStorage();
    renderCustomerInfo(customer);

    // Confirmation logic
    const confirmBtn = document.getElementById('confirm-btn');
    const confirmationSection = document.getElementById('confirmation-section');
    const successMessage = document.getElementById('success-message');
    confirmBtn.addEventListener('click', function() {
      confirmationSection.style.display = 'none';
      successMessage.style.display = 'block';
      window.scrollTo({ top: 0, behavior: 'smooth' });
      // Clear localStorage cart (opsional, uncomment jika ingin clear cart setelah submit)
      // localStorage.removeItem('cart');
    });

    // Footer year
    document.getElementById('footer-year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
